<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta content="telephone=no" name="format-detection"/><meta name="description"/><title>Git使用 | 遗落的记忆</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"/><link rel="stylesheet" type="text/css" href="/css/pure-min.css"/><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"/><link rel="stylesheet" type="text/css" href="/css/style.css"/><link rel="Shortcut Icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/><link rel="stylesheet" type="text/css" href="/google-code-prettify/prettify.css"/><script src="/google-code-prettify/prettify.js" type="text/javascript"></script></head><body><div style="display:none;" class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Git使用</h1><a id="logo" href="/">遗落的记忆</a><p class="description">It's a long road</p></div><div id="nav-menu"><a href="/" class="current"><i class="icon-home"> 首页</i></a><a href="/archives"><i class="icon-archive"> 归档</i></a><a href="/about"><i class="icon-about"> 关于</i></a></div></div><div id="layout" class="pure-g"></div><div class="pure-u-1 pure-u-md-4-5"><div class="content_container"><div class="post post-page"><h1 class="post-title">Git使用</h1><div class="post-meta">2014-11-21 00:00:00 | </div><span data-thread-key="tools/git/" class="ds-thread-count"></span><div class="post-content"><p>git的一些常见用法  </p>
<h3 id="1-远程仓库相关命令"><a href="#1-远程仓库相关命令" class="headerlink" title="1) 远程仓库相关命令"></a>1) 远程仓库相关命令</h3><p>检出仓库：   $ git clone git://github.com/jquery/jquery.git<br>查看远程仓库：$ git remote -v<br>添加远程仓库：$ git remote add [name] [url]<br>删除远程仓库：$ git remote rm [name]<br>修改远程仓库：$ git remote set-url –push [name] [newUrl]<br>拉取远程仓库：$ git pull [remoteName] [localBranchName]<br>推送远程仓库：$ git push [remoteName] [localBranchName]<br>*如果想把本地的某个分支test提交到远程仓库，并作为远程仓库的master分支，或者作为另外一个名叫test的分支，如下：<br>$git push origin test:master         // 提交本地test分支作为远程的master分支<br>$git push origin test:test              // 提交本地test分支作为远程的test分支  </p>
<h3 id="2）分支-branch-操作相关命令"><a href="#2）分支-branch-操作相关命令" class="headerlink" title="2）分支(branch)操作相关命令"></a>2）分支(branch)操作相关命令</h3><p>查看本地分支：$ git branch<br>查看远程分支：$ git branch -r<br>创建本地分支：$ git branch [name] —-注意新分支创建后不会自动切换为当前分支<br>切换分支：$ git checkout [name]<br>创建新分支并立即切换到新分支：$ git checkout -b [name]<br>删除分支：$ git branch -d [name] —- -d选项只能删除已经参与了合并的分支，对于未有合并的分支是无法删除的。如果想强制删除一个分支，可以使用-D选项<br>合并分支：$ git merge [name] —-将名称为[name]的分支与当前分支合并<br>创建远程分支(本地分支push到远程)：$ git push origin [name]<br>删除远程分支：$ git push origin :heads/[name] 或 $ gitpush origin :[name]   </p>
<p>*创建空的分支：(执行命令之前记得先提交你当前分支的修改，否则会被强制删干净没得后悔)<br>$git symbolic-ref HEAD refs/heads/[name]<br>$rm .git/index<br>$git clean -fdx  </p>
<h3 id="3）版本-tag-操作相关命令"><a href="#3）版本-tag-操作相关命令" class="headerlink" title="3）版本(tag)操作相关命令"></a>3）版本(tag)操作相关命令</h3><p>查看版本：$ git tag<br>创建版本：$ git tag [name]<br>删除版本：$ git tag -d [name]<br>查看远程版本：$ git tag -r<br>创建远程版本(本地版本push到远程)：$ git push origin [name]<br>删除远程版本：$ git push origin :refs/tags/[name]<br>合并远程仓库的tag到本地：$ git pull origin –tags<br>上传本地tag到远程仓库：$ git push origin –tags<br>创建带注释的tag：$ git tag -a [name] -m ‘yourMessage’  </p>
<h3 id="4-子模块-submodule-相关操作命令"><a href="#4-子模块-submodule-相关操作命令" class="headerlink" title="4) 子模块(submodule)相关操作命令"></a>4) 子模块(submodule)相关操作命令</h3><p>添加子模块：$ git submodule add [url] [path]<br>如：$git submodule add git://github.com/soberh/ui-libs.git src/main/webapp/ui-libs  </p>
<p>初始化子模块：$ git submodule init  —-只在首次检出仓库时运行一次就行<br>更新子模块：$ git submodule update —-每次更新或切换分支后都需要运行一下  </p>
<p>删除子模块：（分4步走哦）<br>1) $ git rm –cached [path]<br>2) 编辑“.gitmodules”文件，将子模块的相关配置节点删除掉<br>3) 编辑“ .git/config”文件，将子模块的相关配置节点删除掉<br>4) 手动删除子模块残留的目录  </p>
<h3 id="5）忽略一些文件、文件夹不提交"><a href="#5）忽略一些文件、文件夹不提交" class="headerlink" title="5）忽略一些文件、文件夹不提交"></a>5）忽略一些文件、文件夹不提交</h3><p>在仓库根目录下创建名称为“.gitignore”的文件，写入不需要的文件夹名或文件，每个元素占一行即可，如<br>target<br>bin<br>*.db</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>统计提交总数 git rev-list HEAD –count<br>重置到库中最新状态</p>
<pre><code class="sh">git fetch origin
git reset --hard origin/master
</code></pre>
<h3 id="彻底重置到某一log"><a href="#彻底重置到某一log" class="headerlink" title="彻底重置到某一log"></a>彻底重置到某一log</h3><p>git reset –hard <commit_id><br>git push origin HEAD –force</commit_id></p>
</div><div class="tags"></div><div class="post-nav"><a href="/tools/vim/" class="pre"><i class="icon-previous">Vim用法</i></a><a href="/tools/virtualbox-linux/" class="next">virtualbox中使用linux<i class="icon-next"></i></a></div></div></div></div><div class="pure-u-1-5"><div id="sidebar"><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-远程仓库相关命令"><span class="toc-number">1.</span> <span class="toc-text">1) 远程仓库相关命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2）分支-branch-操作相关命令"><span class="toc-number">2.</span> <span class="toc-text">2）分支(branch)操作相关命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3）版本-tag-操作相关命令"><span class="toc-number">3.</span> <span class="toc-text">3）版本(tag)操作相关命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-子模块-submodule-相关操作命令"><span class="toc-number">4.</span> <span class="toc-text">4) 子模块(submodule)相关操作命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5）忽略一些文件、文件夹不提交"><span class="toc-number">5.</span> <span class="toc-text">5）忽略一些文件、文件夹不提交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他"><span class="toc-number">6.</span> <span class="toc-text">其他</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#彻底重置到某一log"><span class="toc-number">7.</span> <span class="toc-text">彻底重置到某一log</span></a></li></ol></div></div></div></div><a id="rocket" href="#top" class="show"></a><div id="footer"><a href="/" rel="nofollow">@ Brivio Wang</a><script>var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1256760942'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1256760942%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));
</script></div></div></body><script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script><script src="/js/fancybox.pack.js" type="text/javascript"></script><link rel="stylesheet" href="/css/jquery.fancybox.css" type="text/css"><script>$(document).ready(function () {
    $("img").wrap(function () {
        if ($(this).hasClass('nofancybox')) return;
        return '<a href="' + $(this).attr("src") + '" rel="group" />'
    });
});</script><script>$(document).ready(function () {
    $("a[href$='.jpg'],a[href$='.png'],a[href$='.gif']").attr('rel', 'gallery').fancybox({
        helpers: {
            title: {type: 'inside'}
        },
        afterLoad: function () {
            this.title = this.title + ' ' + $(this.element).find('img').attr('alt');
        }
    });
});
</script></html>